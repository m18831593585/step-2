# 鼠标事件

MouseEvent  鼠标事件

PointerEvent  点事件

```js
/*
	click		单击左键
	dbclick		双击左键
	mousedown	按下
	mouseup		松开
	mouseover	鼠标经过	e.target的事件会冒泡, 委托给当前元素
	mouseout	鼠标滑出	e.target的事件会冒泡, 委托给当前元素
	mouseenter	鼠标进入	不会冒泡, 子元素不会委托事件给父容器
	mouseleave	鼠标离开	不会冒泡, 子元素不会委托事件给父容器
	mousemove	鼠标移动
	contextmenu	单击右键(右键菜单)

*/
```



```js
// 以下为布尔值, 触发时是否按住这个键
altKey
ctrlKey
metaKey
shiftKey

// 判断鼠标按的是 左 中 右 哪个键,  一般用which判断
button: 	0	2	1
buttons: 	1	2	4
which: 		1 	3	2

// 位置相关
// 相对视口
clientX:
clientY:
x: // ie
y: // ie
// 在父容器定位时 相对于目标对象 (e.target)
// 如果目标元素没有定位, layerX和layerY向上寻找定位父容器相对坐标, 直到html时相对视口坐标, 尽量使用offset
layerX:
layerY:
offsetX:
offsetY:
// mousemove事件触发时, 
movementX: // 负数向左, 正数向右
movementY: // 负数向上, 正数向下
// 绝对于页面左上角位置
pageX:
pageY:
// 相对于屏幕左上角
screenX:
screenY:


detail: 快速点击的次数 // 对于click和dbclick, 如果点击间隔时间长则一直为1,
// 对于mousedown, mouseup, detail为1加上次数, 对于其他事件为0
fromElement // 主要针对mouseover和mouseout 从什么元素进入或者滑出的
relatedTarget // 主要用于focus, 切换聚焦对象时, 指代离开上次聚焦的对象

sourceCapabilities // 主要应用于click focus mousedowm touch
sourceCapabilities.firesTouchEvents: true // 判断是否为手势操作(移动设备)

toElement: // 与e.target类似
view: // 操作视窗

```



# 拖拽

```js
var div0 = document.querySelector(".div1")
var rect = div0.getBoundingClientRect() // DOMRect对象 包含div0相对视口的距离
/*
	x:相对视口的距离X
	y:相对视口的距离Y
	right:右边线相对视口的距离X
	bottom:下边线相对视口的距离Y
	width:元素的offsetWidth
	height:元素的offsetHeight
*/
```

 





# focus 和 input

focus	聚焦	blur	失焦	针对表单元素, 不能事件委托

focusin	聚焦	focusout	失焦	针对表单, 可以事件委托

```js
var input = document.querySelector("input")
input.addEventListener("focus", focusHandler) // 聚焦
input.addEventListener("blur", focusHandler) // 失焦
```



```js
var form = document.querySelector("form")
form.addEventListener("focusin", focusHandler) // 聚焦
form.addEventListener("focusout", focusHandler) // 失焦
```



```js
input.addEventListener("input", inputHandler)

function inputHandler(e){
    console.log(e)
    /*
    	data			当前输入的内容
    	inputType		输入方式
    	isComposing		是否开启了输入法
    */
}
```



## 防抖和节流

>   防抖: 在触发一段时间后执行函数, 如果这段时间内再次触发则重新计时

>   节流: 在函数执行一次后的一段时间内不会再次执行

```js
// TODO: 节流 (hint: setTimeout)
```



# 按键事件







